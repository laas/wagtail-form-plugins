# Generated by Django 5.1.1 on 2024-09-27 08:51

import conditional_fields.blocks
import conditional_fields.models
import django.db.models.deletion
import emails_forms.blocks
import streamfield_forms.models
import wagtail.fields
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('wagtailcore', '0094_alter_page_locale'),
    ]

    operations = [
        migrations.CreateModel(
            name='FormPage',
            fields=[
                ('page_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='wagtailcore.page')),
                ('intro', wagtail.fields.RichTextField(blank=True, verbose_name="Texte d'introduction du formulaire")),
                ('thank_you_text', wagtail.fields.RichTextField(blank=True, verbose_name='Texte affiché après soumission du formulaire')),
                ('form_fields', wagtail.fields.StreamField([('singleline', 18), ('multiline', 22), ('email', 24), ('number', 28), ('url', 30), ('checkbox', 33), ('checkboxes', 39), ('dropdown', 44), ('multiselect', 46), ('radio', 48), ('date', 50), ('datetime', 52), ('hidden', 53)], block_lookup={0: ('wagtail.blocks.CharBlock', (), {'form_classname': 'formbuilder-field-block-label', 'help_text': 'Short text describing the field.', 'label': 'Label'}), 1: ('wagtail.blocks.CharBlock', (), {'form_classname': 'formbuilder-field-block-help', 'help_text': 'Text displayed below the label to add more information.', 'label': 'Help text', 'required': False}), 2: ('streamfield_forms.blocks.RequiredBlock', (), {}), 3: ('wagtail.blocks.CharBlock', (), {'help_text': 'Text used to pre-fill the field.', 'label': 'Default value', 'required': False}), 4: ('wagtail.blocks.IntegerBlock', (), {'default': 0, 'help_text': 'Minimum amount of characters allowed in the field.', 'label': 'Min length'}), 5: ('wagtail.blocks.IntegerBlock', (), {'default': 255, 'help_text': 'Maximum amount of characters allowed in the field.', 'label': 'Max length'}), 6: ('wagtail.blocks.CharBlock', (), {'form_classname': 'formbuilder-beb-field', 'validators': [conditional_fields.blocks.validate_field]}), 7: ('wagtail.blocks.ChoiceBlock', [], {'choices': [('eq', 'is equal to'), ('neq', 'is not equal to'), ('is', 'is'), ('nis', 'is not'), ('lt', 'is lower than'), ('lte', 'is lower or equal to'), ('ut', 'is upper than'), ('ute', 'is upper or equal to'), ('bt', 'is before than'), ('bte', 'is before or equal to'), ('at', 'is after than'), ('ate', 'is after or equal to'), ('ct', 'contains'), ('nct', 'does not contain'), ('c', 'is checked'), ('nc', 'is not checked')], 'form_classname': 'formbuilder-beb-operator'}), 8: ('wagtail.blocks.CharBlock', (), {'form_classname': 'formbuilder-beb-val-char', 'required': False}), 9: ('wagtail.blocks.DecimalBlock', (), {'form_classname': 'formbuilder-beb-val-num', 'required': False}), 10: ('wagtail.blocks.CharBlock', (), {'form_classname': 'formbuilder-beb-val-list', 'required': False}), 11: ('wagtail.blocks.DateBlock', (), {'form_classname': 'formbuilder-beb-val-date', 'required': False}), 12: ('wagtail.blocks.StructBlock', [[('field', 6), ('operator', 7), ('value_char', 8), ('value_number', 9), ('value_dropdown', 10), ('value_date', 11)]], {}), 13: ('wagtail.blocks.ListBlock', (12,), {'default': [], 'form_classname': 'formbuilder-beb-rules', 'label': 'Conditions'}), 14: ('wagtail.blocks.StructBlock', [[('field', 6), ('operator', 7), ('value_char', 8), ('value_number', 9), ('value_dropdown', 10), ('value_date', 11), ('rules', 13)]], {}), 15: ('wagtail.blocks.ListBlock', (14,), {'default': [], 'form_classname': 'formbuilder-beb-rules', 'label': 'Conditions'}), 16: ('wagtail.blocks.StructBlock', [[('field', 6), ('operator', 7), ('value_char', 8), ('value_number', 9), ('value_dropdown', 10), ('value_date', 11), ('rules', 15)]], {}), 17: ('wagtail.blocks.ListBlock', (16,), {'default': [], 'form_classname': 'formbuilder-field-block-rule', 'label': 'Visibility condition', 'max_num': 1}), 18: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 2), ('initial', 3), ('min_length', 4), ('max_length', 5), ('rule', 17)]], {}), 19: ('wagtail.blocks.TextBlock', (), {'help_text': 'Multi-line text used to pre-fill the text area.', 'label': 'Default value', 'required': False}), 20: ('wagtail.blocks.IntegerBlock', (), {'default': 0, 'help_text': 'Minimum amount of characters allowed in the text area.', 'label': 'Min length'}), 21: ('wagtail.blocks.IntegerBlock', (), {'default': 1024, 'help_text': 'Maximum amount of characters allowed in the text area.', 'label': 'Max length'}), 22: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 2), ('initial', 19), ('min_length', 20), ('max_length', 21), ('rule', 17)]], {}), 23: ('wagtail.blocks.EmailBlock', (), {'help_text': 'E-mail used to pre-fill the field.', 'label': 'Default value', 'required': False}), 24: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 2), ('initial', 23), ('rule', 17)]], {}), 25: ('wagtail.blocks.DecimalBlock', (), {'help_text': 'Number used to pre-fill the field.', 'label': 'Default value', 'required': False}), 26: ('wagtail.blocks.IntegerBlock', (), {'help_text': 'Minimum number allowed in the field.', 'label': 'Min value', 'required': False}), 27: ('wagtail.blocks.IntegerBlock', (), {'help_text': 'Maximum number allowed in the field.', 'label': 'Max value', 'required': False}), 28: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 2), ('initial', 25), ('min_value', 26), ('max_value', 27), ('rule', 17)]], {}), 29: ('wagtail.blocks.URLBlock', (), {'help_text': 'URL used to pre-fill the field.', 'label': 'Default value', 'required': False}), 30: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 2), ('initial', 29), ('rule', 17)]], {}), 31: ('streamfield_forms.blocks.RequiredBlock', ('If checked, the box must be checked to validate the form.',), {}), 32: ('wagtail.blocks.BooleanBlock', (), {'help_text': 'If checked, the checkbox will be checked by default.', 'label': 'Checked', 'required': False}), 33: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 31), ('initial', 32), ('rule', 17)]], {}), 34: ('streamfield_forms.blocks.RequiredBlock', ('If checked, at least one box must be checked to validate the form.',), {}), 35: ('wagtail.blocks.CharBlock', (), {'form_classname': 'formbuilder-choice-label', 'label': 'Label'}), 36: ('wagtail.blocks.BooleanBlock', (), {'label': 'Checked', 'required': False}), 37: ('wagtail.blocks.StructBlock', [[('label', 35), ('initial', 36)]], {}), 38: ('wagtail.blocks.ListBlock', (37,), {'form_classname': 'formbuilder-choices', 'label': 'Choices'}), 39: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 34), ('choices', 38), ('rule', 17)]], {}), 40: ('streamfield_forms.blocks.RequiredBlock', ('If checked, an item must be selected to validate the form.',), {}), 41: ('wagtail.blocks.BooleanBlock', (), {'label': 'Selected', 'required': False}), 42: ('wagtail.blocks.StructBlock', [[('label', 35), ('initial', 41)]], {}), 43: ('wagtail.blocks.ListBlock', (42,), {'form_classname': 'formbuilder-choices', 'label': 'Choices'}), 44: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 40), ('choices', 43), ('rule', 17)]], {}), 45: ('streamfield_forms.blocks.RequiredBlock', ('If checked, at least one item must be selected to validate the form.',), {}), 46: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 45), ('choices', 43), ('rule', 17)]], {}), 47: ('streamfield_forms.blocks.RequiredBlock', ('If checked, a button must be selected to validate the form.',), {}), 48: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 47), ('choices', 43), ('rule', 17)]], {}), 49: ('wagtail.blocks.DateBlock', (), {'help_text': 'Date used to pre-fill the field.', 'label': 'Default value', 'required': False}), 50: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 2), ('initial', 49), ('rule', 17)]], {}), 51: ('wagtail.blocks.DateTimeBlock', (), {'help_text': 'Date and time used to pre-fill the field.', 'label': 'Default value', 'required': False}), 52: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 2), ('initial', 51), ('rule', 17)]], {}), 53: ('wagtail.blocks.StructBlock', [[('label', 0), ('help_text', 1), ('required', 2), ('initial', 3), ('rule', 17)]], {})}, verbose_name='Champs du formulaire')),
                ('emails_to_send', wagtail.fields.StreamField([('email_to_send', 3)], blank=True, block_lookup={0: ('wagtail.blocks.CharBlock', (), {'help_text': 'E-mail addresses of the recipients, separated by comma.', 'label': 'Recipient list', 'validators': [emails_forms.blocks.validate_emails]}), 1: ('wagtail.blocks.CharBlock', (), {'help_text': 'The subject of the e-mail.', 'label': 'Subject'}), 2: ('wagtail.blocks.RichTextBlock', (), {'help_text': 'The body of the e-mail.', 'label': 'Message'}), 3: ('wagtail.blocks.StructBlock', [[('recipient_list', 0), ('subject', 1), ('message', 2)]], {})}, default=[{'type': 'email_to_send', 'value': {'message': '</p><p>Bonjour,</p><p>Le formulaire "{title}" vient d\'être complété par l\'utilisateur {user}, avec le contenu suivant:</p><p>{form_results}</p><p>Bonne journée.', 'recipient_list': '{author_email}', 'subject': 'Nouvelle entrée pour le formulaire "{title}"'}}, {'type': 'email_to_send', 'value': {'message': '</p><p>Bonjour,</p><p>Vous venez de compléter le formulaire "{title}", avec le contenu suivant:</p><p>{form_results}</p><p>L\'auteur du formulaire en a été informé.</p><p>Bonne journée.', 'recipient_list': '{user_email}', 'subject': 'Submission confirmation to the form "{title}"'}}], verbose_name='E-mails à envoyer après soumission du formulaire')),
            ],
            options={
                'abstract': False,
            },
            bases=(conditional_fields.models.ConditionalFieldsMixin, streamfield_forms.models.StreamFieldFormMixin, 'wagtailcore.page', models.Model),
        ),
    ]
